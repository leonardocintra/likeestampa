{% extends "base.html" %}

{% block content %}
<div class="container py-4">

    <h3 class="display-5"> Cliente: {{ cliente.nome }} </h3>
    <h4> CPF: {{ cliente.cpf }} </h4>

    <hr />

    <h3>Valor pedido: R$ {{ valor_carrinho }} </h3>
    
    <div class="cho-container">
    </div>

    <br />
    {% include "pagamento/includes/for_items.html" %}


</div>
{% endblock %}

{% block js_footer %}
<script src="https://sdk.mercadopago.com/js/v2"></script>
<script>
    const mp = new MercadoPago('{{ MERCADO_PAGO_PUBLIC_KEY }}', {
        locale: 'pt-BR'
    });

    mp.checkout({
        preference: {
            id: '{{ MERCADO_PAGO_PREFERENCE_ID }}'
        },
        render: {
            container: '.cho-container', // Indica onde o botão de pagamento será exibido
            label: 'Pagar com Mercado Pago (R$ {{ valor_carrinho }})', // Muda o texto do botão de pagamento (opcional)
        }
    });
</script>
{% endblock %}